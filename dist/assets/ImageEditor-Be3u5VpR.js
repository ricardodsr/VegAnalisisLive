import{a as p,r as l,j as e,X as V,C as z,D as F}from"./index-rOsOurxW.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=p("FlipHorizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=p("FlipVertical",[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=p("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),$=({imageFile:n,onSave:y,onCancel:b})=>{const c=l.useRef(null),[o,v]=l.useState(null),[i,w]=l.useState(0),[x,N]=l.useState(!1),[m,k]=l.useState(!1),[d,M]=l.useState(100),[h,C]=l.useState(100);l.useEffect(()=>{const t=new Image;return t.onload=()=>{v(t),u(t)},t.src=URL.createObjectURL(n),()=>{URL.revokeObjectURL(t.src)}},[n]);const u=t=>{const s=c.current,a=s==null?void 0:s.getContext("2d");if(!s||!a||!o)return;const r=t||o,g=i===90||i===270,f=g?r.height:r.width,j=g?r.width:r.height;s.width=f,s.height=j,a.save(),a.translate(f/2,j/2),a.rotate(i*Math.PI/180),a.scale(x?-1:1,m?-1:1),a.filter=`brightness(${d}%) contrast(${h}%)`,a.drawImage(r,-r.width/2,-r.height/2),a.restore()};l.useEffect(()=>{o&&u()},[i,x,m,d,h,o]);const R=()=>{w(t=>(t+90)%360)},H=()=>{N(!x)},E=()=>{k(!m)},D=()=>{const t=c.current;t&&t.toBlob(s=>{if(s){const a=new File([s],n.name,{type:n.type,lastModified:Date.now()});y(a)}},n.type)},I=()=>{const t=c.current;if(!t)return;const s=document.createElement("a");s.download=`edited_${n.name}`,s.href=t.toDataURL(),s.click()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Editor de Imagem"}),e.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700",children:e.jsx(V,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"flex-1 flex justify-center items-center bg-gray-100 rounded-lg p-4",children:e.jsx("canvas",{ref:c,className:"max-w-full max-h-96 border border-gray-300 rounded"})}),e.jsxs("div",{className:"w-full lg:w-64 space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Transformações"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:R,className:"flex flex-col items-center p-2 border border-gray-300 rounded hover:bg-gray-50",title:"Rotacionar 90°",children:[e.jsx(U,{className:"w-5 h-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"Rotacionar"})]}),e.jsxs("button",{onClick:H,className:"flex flex-col items-center p-2 border border-gray-300 rounded hover:bg-gray-50",title:"Espelhar Horizontal",children:[e.jsx(L,{className:"w-5 h-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"H. Flip"})]}),e.jsxs("button",{onClick:E,className:"flex flex-col items-center p-2 border border-gray-300 rounded hover:bg-gray-50",title:"Espelhar Vertical",children:[e.jsx(S,{className:"w-5 h-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"V. Flip"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Ajustes"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Brilho: ",d,"%"]}),e.jsx("input",{type:"range",min:"50",max:"150",value:d,onChange:t=>M(Number(t.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Contraste: ",h,"%"]}),e.jsx("input",{type:"range",min:"50",max:"150",value:h,onChange:t=>C(Number(t.target.value)),className:"w-full"})]})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center space-x-2 bg-[#0046BE] text-white px-4 py-2 rounded-lg hover:bg-[#003399] transition-colors",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"Aplicar Edições"})]}),e.jsxs("button",{onClick:I,className:"w-full flex items-center justify-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"Download"})]})]})]})]})]})})};export{$ as default};
